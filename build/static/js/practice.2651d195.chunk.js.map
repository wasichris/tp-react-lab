{"version":3,"sources":["components/TpSection/index.js","components/TpBoundary/index.js","components/TpXBtn/index.js","components/TpSwitch/index.js","utils/guidHelper.js","assets/images/upload.png","views/Practice01/index.js","views/Practice05/index.js","views/Practice06/index.js","views/Practice08/index.js","views/Practice11/index.js","views/Practice12/index.js","components/TpWizard/ProgressBar.js","components/TpWizard/index.js","views/Practice13/Step1.js","views/Practice13/Step2.js","views/Practice13/Step3.js","views/Practice13/Step4Result.js","views/Practice13/index.js","components/TpLoader/index.js","views/Practice07/Practice07Call01.js","views/Practice07/Practice07Call02.js","views/Practice07/index.js","utils/hooks/useTimer.js","views/Practice10/CountDownTimer.js","views/Practice10/index.js","utils/validations/strAccountSchema.js","utils/validations/strTwIdSchema.js","views/Practice09/index.js","utils/storageHelper.js","services/storage.js","views/Practice04/index.js","components/TpImageUpload/ImagePreviewBar.js","components/TpImageUpload/index.js","views/Practice15/index.js","views/Practice03/Practice03Child.js","views/Practice03/index.js","views/Practice02/Practice02Child.js","views/Practice02/index.js","components/TpModal/index.js","views/Practice14/index.js"],"names":["TpSection","props","children","className","Boundary","tag","TpXBtn","styled","div","margin","size","color","TpSwitch","value","onChange","useState","isOn","setIsOn","elementId","setElementId","useEffect","d","Date","now","performance","replace","c","r","Math","random","floor","toString","createGuid","checked","e","newIsOn","type","id","htmlFor","module","exports","Practice01","handleChangeInput1","setState","state","inputValue1","target","handleChangeInput2","inputValue2","handleChangeInput3","newInputValue3","inputValue3","foundIndex","indexOf","splice","push","handleChangeInput4","inputValue4","this","name","React","Component","Practice05View01","lazy","Practice05View02","Practice05View03","Loader","Practice05","handleGoView02Topic03","history","topic","match","href","to","url","pathname","onClick","fallback","path","component","Practice06","handleIncrease","increaseCounter","handleDecrease","decreaseCounter","counter","compose","connect","get","dispatch","bindActionCreators","demoModel","action","Practice08","formSchema","yup","shape","required","pcode","handleLogin","values","a","login","handleLogout","logout","isLogin","initialValues","validationSchema","onSubmit","isSubmitting","disabled","appModel","Button","button","primary","css","TallButton","theme","isDarkMode","fg","bg","ThemeButton","ThemeInput","input","SwitchWrapper","Practice11","setIsDarkMode","placeholder","themes","light","foreground","background","dark","ThemeContext","createContext","TpCard","prop","themeMode","useContext","Card","Practice12","setThemeMode","Provider","Wrapper","Bar","current","total","ProgressBar","TpWizard","onDone","stepIndex","setStepIndex","formValue","setFormValue","totalSteps","length","window","scrollTo","goNext","newFormValue","go","goPrevious","newStepIndex","step","Children","toArray","currentStepWithProps","cloneElement","Step1","setName","Step2","phone","setPhone","Step3","address","setAddress","Step4Result","JSON","stringify","Practice13","console","log","Practice07Call01","isLoading","contacts","api","getContacts","contactId","resp","hasContacts","colSpan","TpLoader","map","key","isMarried","Practice07Call02","loadAndSetContacts","Practice07","useTimer","callback","delay","remainSecond","setRemainSecond","savedCallback","useRef","savedDelay","setInterval","clearInterval","tick","CountDownTimer","seconds","onTimeUp","toISOString","substr","Practice10","setSeconds","handleTimeup","useCallback","Number","title","test","exclusive","params","message","createError","Promise","resolve","setTimeout","isBeginWith2EC","isNightTenWith2EC","isCompanyId","tab","A1","A2","Mx","i","toUpperCase","charAt","sum","v","parseInt","isNaN","Practice09","getUserInfoToFillForm","formInitValues","account","age","pcodeConfirm","concat","strAccountSchema","strTwIdSchema","getAgeSchema","when","schema","oneOf","isCheckAgeRange","min","handleSwitchAgeRangeChecker","handleChangeAgeTo18","setFieldValue","handleRegister","formData","formik","enableReinitialize","setItem","sessionStorage","localStorage","expiredays","expires","date","setTime","getTime","toUTCString","document","cookie","getItem","_value","nameEQ","ca","split","substring","decodeURIComponent","removeItem","clear","session","local","cookies","eqPos","all","conversationId","val","remove","token","clearAll","Practice04","handleTokenSave","storage","forceUpdate","handleIdSave","handleNameSave","PreviewBar","ImageFrame","ImageWrap","Image","img","ImagePreviewBar","files","onRemove","file","guid","src","alt","raw","InputFile","PickFileBtn","UploadIcon","TpImageUpload","setFiles","inputRef","onChangeRef","ref","index","URL","createObjectURL","multiple","accept","click","upload","remainFiles","filter","f","Practice15","handleUploadFiles","preventDefault","FormData","forEach","append","uploadImage","images","Practice03Child","TpBoundary","top","bottom","Practice03","middle","Practice02Child","handleInternalValueChange","onValueChange","internalValue","prevPropValue","Practice02","handlePhoneChange","handleChildPhoneChange","newPhone","getScrollbarWidth","outer","createElement","inner","style","overflow","body","appendChild","scrollbarWidth","offsetWidth","removeChild","Backdrop","Modal","maxWidth","ModalHeader","ModalTitle","ModalContent","TpModal","isVisible","onClose","portalTarget","modalRef","handleBackdropClick","contains","handleKeyDown","keyCode","addEventListener","removeEventListener","memoizedScrollbarWidth","useMemo","querySelector","htmlOverflow","bodyOverflow","hasScrollbar","innerWidth","clientWidth","paddingRight","ReactDOM","createPortal","ModalFooter","Practice14","setIsVisible","handleToggleModalShowUp"],"mappings":"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","file":"static/js/practice.2651d195.chunk.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst TpSection = (props) => {\r\n  const { children } = props\r\n  return (\r\n    <div className='tp-section'>\r\n      {children}\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nTpSection.propTypes = {\r\n  children: PropTypes.node\r\n}\r\n\r\nexport default TpSection\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Boundary = (props) => {\r\n  const { children, tag } = props\r\n  return (\r\n    <div className='tp-bundary'>\r\n      <div className='tp-bundary__tag'>{tag}</div>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nBoundary.propTypes = {\r\n  children: PropTypes.node,\r\n  tag: PropTypes.string\r\n}\r\n\r\nexport default Boundary\r\n","import styled from 'styled-components'\r\n\r\nconst TpXBtn = styled.div`\r\n  cursor:pointer;\r\n  position: absolute;\r\n  right: ${props => props.margin + 'px'};\r\n  top: ${props => props.margin + 'px'};\r\n  width: ${props => props.size + 'px'};\r\n  height: ${props => props.size + 'px'};\r\n  opacity: 0.6;\r\n\r\n  :hover {\r\n    opacity: 1;\r\n  }\r\n\r\n  :before, :after {\r\n    position: absolute;\r\n    left: ${props => props.margin / 2 + 'px'};\r\n    content: ' ';\r\n    height: ${props => props.size + 'px'};\r\n    width: 1px;\r\n    background-color: ${props => props.color};\r\n  }\r\n\r\n  :before {\r\n    transform: rotate(45deg);\r\n  }\r\n  \r\n  :after {\r\n    transform: rotate(-45deg);\r\n  }\r\n\r\n`\r\n\r\nexport default TpXBtn\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport { createGuid } from '@src/utils/guidHelper'\r\n\r\nconst Switch = ({ className, value, onChange }) => {\r\n  // state\r\n  const [isOn, setIsOn] = useState(true)\r\n  const [elementId, setElementId] = useState('')\r\n\r\n  // setup a radom element id\r\n  useEffect(() => {\r\n    setElementId(createGuid())\r\n  }, [])\r\n\r\n  // monitor value prop change to update isOn state\r\n  useEffect(() => {\r\n    setIsOn(value)\r\n  }, [value])\r\n\r\n  // checkbox value change\r\n  const handleIsOnChange = e => {\r\n    const newIsOn = !isOn\r\n\r\n    // 修改組件內的狀態\r\n    setIsOn(newIsOn)\r\n\r\n    // 通知父組件此內部狀態已被改變\r\n    // 父祖件應該同步修改傳入此組件的狀態值\r\n    if (onChange) onChange(newIsOn)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        className={className}\r\n        checked={isOn}\r\n        onChange={(handleIsOnChange)}\r\n        type='checkbox'\r\n        id={elementId}\r\n      />\r\n      <label htmlFor={elementId}>Toggle</label>\r\n    </>\r\n  )\r\n}\r\n\r\nSwitch.propTypes = {\r\n  className: PropTypes.string,\r\n  value: PropTypes.bool,\r\n  onChange: PropTypes.func\r\n}\r\n\r\n// 此處為練習使用 style-component 實作組件樣式\r\n// 否則專案內通用的組件樣式應統一放置於 style.scss 中\r\n// 並需使用 BEM 命名確保樣式 class 名稱不會衝突\r\nconst TpSwitch = styled(Switch)`\r\n  height: 0;\r\n  width: 0;\r\n  visibility: hidden;\r\n\r\n  & + label {\r\n    cursor: pointer;\r\n    text-indent: -9999px;\r\n    width: 50px;\r\n    height: 26px;\r\n    background: grey;\r\n    display: inline-block;\r\n    border-radius: 100px;\r\n    position: relative;\r\n\r\n    :after {\r\n      content: '';\r\n      position: absolute;\r\n      top: 3px;\r\n      left: 3px;\r\n      width: 20px;\r\n      height: 20px;\r\n      background: #fff;\r\n      border-radius: 50%;\r\n      transition: 0.3s;\r\n    }\r\n\r\n    :active:after {\r\n      width: 32px;\r\n    }\r\n  }\r\n\r\n  :checked + label {\r\n    background: #2196F3;\r\n\r\n    :after {\r\n      left: calc(100% - 3px);\r\n      transform: translateX(-100%);\r\n    }\r\n  }\r\n`\r\nexport default TpSwitch\r\n","const createGuid = () => {\r\n  var d = Date.now()\r\n  if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\r\n    d += performance.now() // use high-precision timer if available\r\n  }\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n    var r = (d + Math.random() * 16) % 16 | 0\r\n    d = Math.floor(d / 16)\r\n    return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16)\r\n  })\r\n}\r\n\r\nexport {\r\n  createGuid\r\n}\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABmJLR0QA/wD/AP+gvaeTAAAAz0lEQVRIie3Vuw3CMBCA4T9EeCYKGIKCfehgD4pICCEeO7BJMgQUpogdWQjs8wNEkZNOLmLfF8eP1MTFFFgDM+AG6MjxolDA0RTXQGPg4sjVQWweSmIKuLxBimIhpAimgLMAycJikSRMAacEJAqrMxGbe2Dig1bAowB0B5Zu4So0ReSn31vLO72SMUIj9J9QJ+jTSiB7mj/FTgD5+gz1Q5ACtvRv/XrVtOaZCkGVg0iuo5TQ8OPNYBd7/oX6C9N20H/j3N9CKDfgX+zcHDbLE9BRrwsRjsxlAAAAAElFTkSuQmCC\"","import React from 'react'\r\nimport TpSection from '@src/components/TpSection/index'\r\n\r\nclass Practice01 extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      inputValue1: 'text',\r\n      inputValue2: 'sd',\r\n      inputValue3: ['car', 'boat'],\r\n      inputValue4: 'ford'\r\n    }\r\n  }\r\n\r\n  handleChangeInput1 = (e) => {\r\n    this.setState({ ...this.state, inputValue1: e.target.value })\r\n  }\r\n\r\n  handleChangeInput2 = (e) => {\r\n    this.setState({ ...this.state, inputValue2: e.target.value })\r\n  }\r\n\r\n  handleChangeInput3 = (e) => {\r\n    const value = e.target.value\r\n    const newInputValue3 = [...this.state.inputValue3]\r\n    const foundIndex = newInputValue3.indexOf(value)\r\n    if (foundIndex > -1) {\r\n      newInputValue3.splice(foundIndex, 1)\r\n    } else {\r\n      newInputValue3.push(value)\r\n    }\r\n    this.setState({ ...this.state, inputValue3: newInputValue3 })\r\n  }\r\n\r\n  handleChangeInput4 = (e) => {\r\n    this.setState({ ...this.state, inputValue4: e.target.value })\r\n  }\r\n\r\n  render () {\r\n    const { inputValue1, inputValue2, inputValue3, inputValue4 } = this.state\r\n\r\n    return (\r\n      <>\r\n        <h1> 輸入控制 </h1>\r\n        <p className='tp-desc'>\r\n          熟悉輸入元素的控制方式，請將輸入資訊存放於 state 中 (inputValue1~inputValue4)，並在修改時同步顯示於輸入框下方。\r\n        </p>\r\n\r\n        {/* section 1 - input */}\r\n        <TpSection>\r\n          <div><input type='text' value={inputValue1} onChange={this.handleChangeInput1} /> </div>\r\n          <div className='tp-hint'>您輸入的資料: {inputValue1} </div>\r\n        </TpSection>\r\n\r\n        {/* section 2 - radio */}\r\n        <TpSection>\r\n          <div className='tp-radio'>\r\n            <input type='radio' id='pm' name='職稱' value='pm' checked={inputValue2 === 'pm'} onChange={this.handleChangeInput2} />\r\n            <label htmlFor='pm' className='tp-radio__label'>project manager</label>\r\n          </div>\r\n\r\n          <div className='tp-radio'>\r\n            <input type='radio' id='sd' name='職稱' value='sd' checked={inputValue2 === 'sd'} onChange={this.handleChangeInput2} />\r\n            <label htmlFor='sd' className='tp-radio__label'>system designer</label>\r\n          </div>\r\n\r\n          <div className='tp-radio'>\r\n            <input type='radio' id='sa' name='職稱' value='sa' checked={inputValue2 === 'sa'} onChange={this.handleChangeInput2} />\r\n            <label htmlFor='sa' className='tp-radio__label'>system analyst</label>\r\n          </div>\r\n\r\n          <div className='tp-hint'>您選擇的資料: {inputValue2} </div>\r\n        </TpSection>\r\n\r\n        {/* section 3 - checkbox */}\r\n        <TpSection>\r\n          <div className='tp-checkbox'>\r\n            <input type='checkbox' id='bike' name='vehicle' value='bike' checked={inputValue3.indexOf('bike') > -1} onChange={this.handleChangeInput3} />\r\n            <label htmlFor='bike' className='tp-checkbox__label'>I have a bike</label>\r\n          </div>\r\n\r\n          <div className='tp-checkbox'>\r\n            <input type='checkbox' id='car' name='vehicle' value='car' checked={inputValue3.indexOf('car') > -1} onChange={this.handleChangeInput3} />\r\n            <label htmlFor='car' className='tp-checkbox__label'>I have a car</label>\r\n          </div>\r\n\r\n          <div className='tp-checkbox'>\r\n            <input type='checkbox' id='boat' name='vehicle' value='boat' checked={inputValue3.indexOf('boat') > -1} onChange={this.handleChangeInput3} />\r\n            <label htmlFor='boat' className='tp-checkbox__label'>I have a boat</label>\r\n          </div>\r\n\r\n          <div className='tp-hint'>您選擇的資料: {inputValue3.toString()} </div>\r\n        </TpSection>\r\n\r\n        {/* section 4 - option */}\r\n        <TpSection>\r\n          <select value={inputValue4} onChange={this.handleChangeInput4}>\r\n            <option value=''>Please Select</option>\r\n            <option value='volvo'>Volvo</option>\r\n            <option value='saab'>Saab</option>\r\n            <option value='ford'>Ford</option>\r\n            <option value='audi'>Audi</option>\r\n          </select>\r\n\r\n          <div className='tp-hint'>您選擇的資料: {inputValue4} </div>\r\n        </TpSection>\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Practice01\r\n","import React, { lazy, Suspense } from 'react'\r\nimport TpBoundary from '@src/components/TpBoundary/index'\r\nimport { Route, Link, Switch } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\n\r\n// 動態載入頁面組件，使用 webpack magic comments 定義各自 chunk name 分散需載入的資源\r\nconst Practice05View01 = lazy(() => import(/* webpackChunkName: \"practice05\" */ '@src/views/Practice05/Practice05View01'))\r\nconst Practice05View02 = lazy(() => import(/* webpackChunkName: \"practice05\" */ '@src/views/Practice05/Practice05View02'))\r\nconst Practice05View03 = lazy(() => import(/* webpackChunkName: \"practice05\" */ '@src/views/Practice05/Practice05View03'))\r\n\r\n// 動態載入期間顯示的畫面組件\r\nconst Loader = () => <div />\r\n\r\nclass Practice05 extends React.Component {\r\n  handleGoView02Topic03 = () => {\r\n    this.props.history.push('/p5/v2', { topic: 'TOPIC03' })\r\n  }\r\n\r\n  render () {\r\n    const match = this.props.match\r\n    return (\r\n      <>\r\n        <h1> 路由設定及轉址 </h1>\r\n        <p className='tp-desc'>\r\n           依照以下要求設定 <a target='blank' href='https://reacttraining.com/react-router/web/api/Route'>Route</a> 路由，使用 lazy 方式動態載入 Practice05 資料夾下 Practice05View01、Practice05View02 及 Practice05View03 組件，\r\n           透過點擊 <a target='blank' href='https://reacttraining.com/react-router/web/api/Link'>Link</a> 連結組件切換不同路由以顯示不同畫面於 router view 區塊中。\r\n        </p>\r\n\r\n        <h4>1. 連結轉址帶參數 (參數於url上)</h4>\r\n        <ul>\r\n          <li>\r\n            <Link to={`${match.url}/v1/TOPIC01`}> VIEW01-1 </Link>\r\n            : 以 /p5/v1/:topic 顯示 Practice05View01 組件，並傳入 'TOPIC01' 作為 topic 參數顯示\r\n          </li>\r\n          <li>\r\n            <Link to={`${match.url}/v1/TOPIC02`}> VIEW01-2 </Link>\r\n            : 以 /p5/v1/:topic 顯示 Practice05View01 組件，並傳入 'TOPIC02' 作為 topic 參數顯示\r\n          </li>\r\n          <li>\r\n            <Link to={`${match.url}/v1/view03`}> VIEW03-1 </Link>\r\n            : 以 /p5/v1/view03 顯示 Practice05View03 組件\r\n          </li>\r\n        </ul>\r\n\r\n        <h4>2. 連結轉址帶參數 (參數不顯示於url上)</h4>\r\n        <ul>\r\n          <li>\r\n            <Link to={{ pathname: `${match.url}/v2`, state: { topic: 'TOPIC01' } }}> VIEW02-1 </Link>\r\n            : 以 /p5/v2 顯示 Practice05View02 組件，並以 state 方式傳入 'TOPIC01' 作為 topic 參數顯示\r\n          </li>\r\n          <li>\r\n            <Link to={{ pathname: `${match.url}/v2`, state: { topic: 'TOPIC02' } }}> VIEW02-2 </Link>\r\n            : 以 /p5/v2 顯示 Practice05View02 組件，並以 state 方式傳入 'TOPIC02' 作為 topic 參數顯示\r\n          </li>\r\n        </ul>\r\n\r\n        <h4>3. 程式轉址帶參數 (參數不顯示於url上)</h4>\r\n        <ul>\r\n          <li>\r\n            <button onClick={this.handleGoView02Topic03}>GO</button>\r\n            ： 以 /p5/v2 顯示 Practice05View02 組件，並以 state 方式傳入 'TOPIC03' 作為 topic 參數顯示\r\n\r\n          </li>\r\n\r\n        </ul>\r\n        <TpBoundary tag='router view'>\r\n          {/* 以路由變化來切換此區塊顯示的畫面 */}\r\n\r\n          {/* views */}\r\n          <Suspense fallback={<Loader />}>\r\n            <Switch>\r\n              <Route path={`${match.path}/v1/view03`} component={Practice05View03} />\r\n              <Route path={`${match.path}/v1/:topic`} component={Practice05View01} />\r\n              <Route path={`${match.path}/v2`} component={Practice05View02} />\r\n              <Route path={`${match.path}/`}>  <h3> DEFAULT </h3>  </Route>\r\n            </Switch>\r\n          </Suspense>\r\n        </TpBoundary>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nPractice05.propTypes = {\r\n  match: PropTypes.object,\r\n  history: PropTypes.object\r\n}\r\n\r\nexport default Practice05\r\n","import React from 'react'\r\nimport TpSection from '@src/components/TpSection/index'\r\nimport demoModel from '@src/models/demo'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators, compose } from 'redux'\r\nimport PropTypes from 'prop-types'\r\nimport get from 'lodash/get'\r\n\r\nclass Practice06 extends React.Component {\r\n  handleIncrease = () => {\r\n    this.props.increaseCounter()\r\n  }\r\n\r\n  handleDecrease = () => {\r\n    this.props.decreaseCounter()\r\n  }\r\n\r\n  render () {\r\n    const { counter } = this.props\r\n\r\n    return (\r\n      <>\r\n        <h1> Redux 全域狀態控制 </h1>\r\n        <p className='tp-desc'>\r\n          熟悉 Redux 全域狀態控制方式，請建立 demoModel (model/demo.js) 並實作一個計數器來控制 demoModel 中的 counter 狀態，\r\n          透過 increaseCounter 及 decreaseConter 兩個 action 來控制 reducer 執行 counter 的累加與累減行為，\r\n          最後將成果顯示於畫面上。\r\n        </p>\r\n\r\n        <TpSection>\r\n          <h3>計數器: {counter}</h3>\r\n          <button onClick={this.handleIncrease}>十</button>\r\n          <button onClick={this.handleDecrease}>一</button>\r\n\r\n        </TpSection>\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nPractice06.propTypes = {\r\n  counter: PropTypes.number,\r\n  increaseCounter: PropTypes.func,\r\n  decreaseCounter: PropTypes.func\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  counter: get(state, 'demo.counter', 0)\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  increaseCounter: demoModel.action.increaseCounter,\r\n  decreaseCounter: demoModel.action.decreaseCounter\r\n}, dispatch)\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(Practice06)\r\n\r\n// ==== Hook version ====\r\n\r\n// import React from 'react'\r\n// import TpSection from '@src/components/TpSection/index'\r\n// import { useSelector, useDispatch } from 'react-redux'\r\n// import demoModel from '@src/models/demo'\r\n\r\n// const Practice06 = prop => {\r\n//   const counter = useSelector(state => state.demo.counter)\r\n//   const dispatch = useDispatch()\r\n\r\n//   const handleIncrease = () => {\r\n//     dispatch(demoModel.action.increaseCounter())\r\n//   }\r\n\r\n//   const handleDecrease = () => {\r\n//     dispatch(demoModel.action.decreaseCounter())\r\n//   }\r\n\r\n//   return (\r\n//     <>\r\n//       <h1> Redux 全域狀態控制 </h1>\r\n//       <p className='tp-desc'>\r\n//       熟悉 Redux 全域狀態控制方式，請建立 demoModel (model/demo.js) 並實作一個計數器來控制 demoModel 中的 counter 狀態，\r\n//       透過 increaseCounter 及 decreaseConter 兩個 action 來控制 reducer 執行 counter 的累加與累減行為，\r\n//       最後將成果顯示於畫面上。\r\n//       </p>\r\n\r\n//       <TpSection>\r\n//         <h3>計數器: {counter}</h3>\r\n//         <button onClick={handleIncrease}>十</button>\r\n//         <button onClick={handleDecrease}>一</button>\r\n\r\n//       </TpSection>\r\n\r\n//     </>\r\n//   )\r\n// }\r\n\r\n// export default Practice06\r\n","import React from 'react'\r\nimport TpSection from '@src/components/TpSection/index'\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik'\r\nimport appModel from '@src/models/app'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators, compose } from 'redux'\r\nimport PropTypes from 'prop-types'\r\nimport get from 'lodash/get'\r\nimport * as yup from 'yup'\r\n\r\nclass Practice08 extends React.Component {\r\n  formSchema = () => yup.object().shape({\r\n    id: yup.string().required(),\r\n    pcode: yup.string().required()\r\n  });\r\n\r\n  handleLogin = async values => {\r\n    const { id, pcode } = values\r\n    this.props.login({ id, pcode })\r\n  }\r\n\r\n  handleLogout = () => {\r\n    this.props.logout()\r\n  }\r\n\r\n  render () {\r\n    const { isLogin } = this.props\r\n    return (\r\n      <>\r\n        <h1> 使用 saga 完成登入流程 </h1>\r\n        <p className='tp-desc'>\r\n          熟悉 <a target='blank' href='https://redux-saga.js.org/'>saga</a> 操作方式，請配合 appModel (/models/app.js) 中的 authFlowSaga 身分驗證流程實作以下功能，\r\n          登入時透過 /services/api.js 中 login 方法呼叫外部 API 來進行登入。\r\n        </p>\r\n        <ol>\r\n          <li>請先於 appModel 中建立 login action</li>\r\n          <li>呼叫 login action 觸發 loginSaga 執行登入行為 (takeEvery)</li>\r\n          <li>需於 loginSaga 中 call login api 將回應訊息 alert 顯示</li>\r\n          <li>成功登入時，隱藏登入介面，只顯示登出鍵</li>\r\n          <li>點選登出鍵後，隱藏登出鍵，只顯示登入介面</li>\r\n        </ol>\r\n\r\n        <TpSection>\r\n\r\n          {isLogin\r\n            // ==== 已登入 ====\r\n            ? <button type='button' onClick={this.handleLogout}> 登出 </button>\r\n            // ==== 未登入 ====\r\n            : (\r\n              <>\r\n                <h3>請輸入帳號及密碼進行登入(密碼為111)</h3>\r\n                <Formik\r\n                  initialValues={{ id: 'Chris', pcode: '' }}\r\n                  validationSchema={this.formSchema()}\r\n                  onSubmit={this.handleLogin}\r\n                >\r\n\r\n                  {({ isSubmitting }) => (\r\n                    <Form className='tp-form'>\r\n\r\n                      <div className='tp-form__row'>\r\n                        <div className='tp-form__label'> 帳號 </div>\r\n                        <div className='tp-form__field'>\r\n                          <Field type='text' name='id' />\r\n                          <ErrorMessage name='id' component='div' className='tp-form__error' />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className='tp-form__row'>\r\n                        <div className='tp-form__label'> 密碼 </div>\r\n                        <div className='tp-form__field'>\r\n                          <Field type='password' name='pcode' />\r\n                          <ErrorMessage name='pcode' component='div' className='tp-form__error' />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className='tp-form__row tp-form__row--right'>\r\n                        <button type='submit' disabled={isSubmitting}> 登入 </button>\r\n                      </div>\r\n\r\n                    </Form>\r\n                  )}\r\n                </Formik>\r\n              </>\r\n            )}\r\n\r\n        </TpSection>\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nPractice08.propTypes = {\r\n  login: PropTypes.func,\r\n  logout: PropTypes.func,\r\n  isLogin: PropTypes.bool\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isLogin: get(state, 'app.isLogin', 0)\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  login: appModel.action.login,\r\n  logout: appModel.action.logout\r\n}, dispatch)\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(Practice08)\r\n","import React, { useState } from 'react'\r\nimport TpSection from '@src/components/TpSection/index'\r\nimport TpSwitch from '@src/components/TpSwitch/index'\r\n\r\nimport styled, { css, ThemeProvider } from 'styled-components'\r\n\r\nconst Button = styled.button`\r\n  background: transparent;\r\n  border-radius: 3px;\r\n  border: 2px solid palevioletred;\r\n  color: palevioletred;\r\n  padding: 0.25em 1em;\r\n  cursor: pointer;\r\n\r\n  &:hover{\r\n    box-shadow: 2px 2px 4px 0px #7a7a7a;\r\n  }\r\n\r\n  ${props =>\r\n    props.primary &&\r\n    css`\r\n      background: palevioletred;\r\n      color: white;\r\n    `};\r\n`\r\n\r\nconst TallButton = styled(Button)`\r\n  padding: 2em 0.5em;\r\n`\r\n\r\n// =====\r\n\r\nconst theme = (isDarkMode) => ({\r\n  fg: isDarkMode ? 'white' : 'palevioletred',\r\n  bg: isDarkMode ? '#3E3E3E' : 'white'\r\n})\r\n\r\nconst ThemeButton = styled.button`\r\ncolor: ${props => props.theme.fg};\r\nborder: 2px solid ${props => props.theme.fg};\r\nbackground: ${props => props.theme.bg};\r\nfont-size: 1em;\r\nmargin: 1em 1em 1em 0;\r\npadding: 0.25em 1em;\r\nborder-radius: 3px;\r\ncursor: pointer;\r\n`\r\n\r\nconst ThemeInput = styled.input`\r\ncolor: ${props => props.theme.fg};\r\nbackground: ${props => props.theme.bg};\r\nfont-size: 1em;\r\nmargin: 1em 1em 1em 0;\r\npadding: 0.25em 1em;\r\n`\r\n\r\n// =====\r\nconst SwitchWrapper = styled.div`\r\n  line-height: 24px;\r\n`\r\n\r\nconst Practice11 = () => {\r\n  const [isDarkMode, setIsDarkMode] = useState(false)\r\n\r\n  return (\r\n    <>\r\n      <h1> 熟悉 styled-components 操作方式 </h1>\r\n      <p className='tp-desc'>\r\n          理解 CSS in JS 的設計概念，熟悉 styled-components 的基礎操作方式。\r\n      </p>\r\n\r\n      <TpSection>\r\n        <p><b>基本按鍵</b>：以 styled-components 建立的 Button 組件。 </p>\r\n        <Button> I'm the Button </Button>\r\n      </TpSection>\r\n\r\n      <TpSection>\r\n        <p><b>傳遞參數</b>：傳入 primary 至 Button 組件，當 primary 值為 true 時調整樣式為 background: palevioletred; color: white; 來呈現動態樣式效果。 </p>\r\n        <Button primary> I'm the Button with primary props </Button>\r\n      </TpSection>\r\n\r\n      <TpSection>\r\n        <p><b>覆寫組件</b>：以 Button 組件為基礎建立 TallButton 組件，調整樣式為 padding: 2em 0.5em; 呈現。 </p>\r\n        <TallButton> I'm the TallButton </TallButton>\r\n      </TpSection>\r\n\r\n      <TpSection>\r\n        <p><b>主題樣式</b>：以 ThemeProvider 將 ThemeButton 及 ThemeInput 組件套上 theme 主題樣式，並使用 isDarkMode 狀態來動態切換主題樣式。 </p>\r\n        <ThemeProvider theme={theme(isDarkMode)}>\r\n          <SwitchWrapper>\r\n              Dark Mode <TpSwitch value={isDarkMode} onChange={isOn => setIsDarkMode(isOn)} />\r\n          </SwitchWrapper>\r\n          <ThemeButton> I'm the ThemeButton </ThemeButton>\r\n          <ThemeInput placeholder='I am the ThemeInput' />\r\n        </ThemeProvider>\r\n      </TpSection>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Practice11\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport TpSection from '@src/components/TpSection/index'\r\nimport TpSwitch from '@src/components/TpSwitch/index'\r\nimport styled, { css } from 'styled-components'\r\n\r\n// 取決於由上層 component 距離最近的 <MyContext.Provider> 的 value prop。\r\nconst themes = {\r\n  light: {\r\n    foreground: '#000000',\r\n    background: '#eeeeee'\r\n  },\r\n  dark: {\r\n    foreground: '#ffffff',\r\n    background: '#222222'\r\n  }\r\n}\r\n\r\n// 建立 theme context\r\nconst ThemeContext = React.createContext(themes.light)\r\n\r\n// 建立測試子組件\r\nconst TpCard = (prop) => {\r\n  // 接收 theme context 資訊\r\n  const themeMode = useContext(ThemeContext)\r\n\r\n  return (\r\n    <Card theme={themeMode}>\r\n      <div>I'm TpCard with ThemeContext!!</div>\r\n      <div>{`foreground: ${themeMode.foreground}`}</div>\r\n      <div>{`background: ${themeMode.background}`}</div>\r\n    </Card>\r\n  )\r\n}\r\n\r\nconst Card = styled.div`\r\n  margin: 20px 0;\r\n  padding: 5px;\r\n  border-radius: 5px;\r\n\r\n  ${props =>\r\n    props.theme &&\r\n    css`\r\n      background: ${props.theme.background};\r\n      color: ${props.theme.foreground};\r\n    `};\r\n`\r\n\r\nconst SwitchWrapper = styled.div`\r\n  line-height: 24px;\r\n`\r\n\r\nconst Practice12 = () => {\r\n  const [themeMode, setThemeMode] = useState(themes.dark)\r\n  const [isDarkMode, setIsDarkMode] = useState(true)\r\n\r\n  useEffect(() => {\r\n    setThemeMode(isDarkMode ? themes.dark : themes.light)\r\n  }, [isDarkMode])\r\n\r\n  return (\r\n    <>\r\n      {/* 加入 ThemeContext Provider 於使用範圍上，加入 context value 值向子組件傳遞 */}\r\n      <ThemeContext.Provider value={themeMode}>\r\n\r\n        <h1> 熟悉 Context 操作方式 </h1>\r\n        <p className='tp-desc'>\r\n            理解 Context 的設計概念，設計 React 組件中共享資料；\r\n            請使用 createContext 建立 ThemeContext 來傳遞 themes 定義的 light 與 dark 樣式至子組件中，為方便測試則透過 TpSwitch 切換兩模式，最後使用 useContext 將樣式套用在 TpCard 測試子組件中。\r\n        </p>\r\n\r\n        <TpSection>\r\n          <SwitchWrapper>\r\n              Dark Mode <TpSwitch value={isDarkMode} onChange={isOn => setIsDarkMode(isOn)} />\r\n          </SwitchWrapper>\r\n\r\n          {/* 可以收到父層 ThemeContext Provider 向子組件傳遞的 themeMode 數值 */}\r\n          <TpCard />\r\n        </TpSection>\r\n\r\n      </ThemeContext.Provider>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Practice12\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\n\r\nconst Wrapper = styled.div`\r\n  border: thin solid #ccc;\r\n  background: #e6e6e6;\r\n`\r\n\r\nconst Bar = styled.div`\r\n  height: 4px;\r\n  width: ${props => props.current * 100 / props.total}%; \r\n  background-color: #9e9e9e;\r\n`\r\n\r\nconst ProgressBar = ({ current, total }) => {\r\n  return (\r\n    <Wrapper>\r\n      <Bar current={current} total={total} />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nProgressBar.propTypes = {\r\n  current: PropTypes.number.isRequired,\r\n  total: PropTypes.number.isRequired\r\n}\r\n\r\nexport default ProgressBar\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport ProgressBar from './ProgressBar'\r\n\r\nconst TpWizard = ({ children, onDone } = { children: [] }) => {\r\n  const [stepIndex, setStepIndex] = useState(1)\r\n  const [formValue, setFormValue] = useState({})\r\n\r\n  // total step amount\r\n  const totalSteps = children.length\r\n\r\n  // scroll top while step change\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [stepIndex])\r\n\r\n  // go next\r\n  const goNext = (newFormValue) => go(stepIndex + 1, newFormValue)\r\n\r\n  // go previous\r\n  const goPrevious = () => go(stepIndex - 1)\r\n\r\n  // go any step\r\n  const go = (newStepIndex, newFormValue = null) => {\r\n    // update form value\r\n    if (newFormValue) {\r\n      setFormValue(newFormValue)\r\n    }\r\n\r\n    // move steps\r\n    if (newStepIndex > 0 && newStepIndex <= totalSteps) {\r\n      setStepIndex(newStepIndex)\r\n      if (newStepIndex === totalSteps) onDone()\r\n    } else if (newStepIndex < 1) {\r\n      setStepIndex(1)\r\n    } else if (newStepIndex > totalSteps) {\r\n      setStepIndex(totalSteps)\r\n    }\r\n  }\r\n\r\n  // find current step\r\n  const step = React.Children.toArray(children)[stepIndex - 1]\r\n  const currentStepWithProps = step\r\n    ? React.cloneElement(step, { go, goNext, goPrevious, formValue }) : null\r\n\r\n  // render\r\n  return (\r\n    <div className='tp-section'>\r\n      <ProgressBar current={stepIndex} total={totalSteps} />\r\n      {currentStepWithProps}\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nTpWizard.propTypes = {\r\n  children: PropTypes.node,\r\n  onDone: PropTypes.func\r\n}\r\n\r\nexport default TpWizard\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Step1 = ({ goNext, formValue }) => {\r\n  const [name, setName] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (formValue.name) {\r\n      setName(formValue.name)\r\n    }\r\n  }, [formValue.name])\r\n\r\n  return (\r\n    <>\r\n      <h3>STEP 1</h3>\r\n      <div className='tp-form'>\r\n        <div className='tp-form__row'>\r\n          <label className='tp-form__label' htmlFor='name'>姓名</label>\r\n          <div className='tp-form__field'>\r\n            <input type='text' id='name' value={name} onChange={e => setName(e.target.value)} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className='tp-form__row tp-form__row--right'>\r\n          <button onClick={() => goNext({ name, ...formValue })}>下一步</button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nStep1.propTypes = {\r\n  goNext: PropTypes.func,\r\n  formValue: PropTypes.object\r\n}\r\n\r\nexport default Step1\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Step2 = ({ goNext, goPrevious, formValue }) => {\r\n  const [phone, setPhone] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (formValue.phone) {\r\n      setPhone(formValue.phone)\r\n    }\r\n  }, [formValue.phone])\r\n\r\n  return (\r\n    <>\r\n      <h3>STEP 2</h3>\r\n      <div className='tp-form'>\r\n        <div className='tp-form__row'>\r\n          <label className='tp-form__label' htmlFor='phone'>電話</label>\r\n          <div className='tp-form__field'>\r\n            <input type='text' id='phone' value={phone} onChange={e => setPhone(e.target.value)} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className='tp-form__row tp-form__row--right'>\r\n          <button onClick={() => goNext({ phone, ...formValue })}>下一步</button>\r\n          <button onClick={() => goPrevious()}>上一步</button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nStep2.propTypes = {\r\n  goNext: PropTypes.func,\r\n  goPrevious: PropTypes.func,\r\n  formValue: PropTypes.object\r\n}\r\n\r\nexport default Step2\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Step3 = ({ goNext, goPrevious, formValue }) => {\r\n  const [address, setAddress] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (formValue.address) {\r\n      setAddress(formValue.address)\r\n    }\r\n  }, [formValue.address])\r\n\r\n  return (\r\n    <>\r\n      <h3>STEP 3</h3>\r\n      <div className='tp-form'>\r\n        <div className='tp-form__row'>\r\n          <label className='tp-form__label' htmlFor='address'>地址</label>\r\n          <div className='tp-form__field'>\r\n            <input type='text' id='address' value={address} onChange={e => setAddress(e.target.value)} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className='tp-form__row tp-form__row--right'>\r\n          <button onClick={() => goNext({ address, ...formValue })}>送出</button>\r\n          <button onClick={() => goPrevious()}>上一步</button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nStep3.propTypes = {\r\n  goNext: PropTypes.func,\r\n  goPrevious: PropTypes.func,\r\n  formValue: PropTypes.object\r\n}\r\n\r\nexport default Step3\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Step4Result = ({ formValue, go }) => {\r\n  return (\r\n    <>\r\n      <h3>RESULT</h3>\r\n      <div className='tp-form'>\r\n        <div className='tp-form__row'>\r\n          Success\r\n        </div>\r\n        <div className='tp-form__row'>\r\n          <div className='tp-code'>\r\n            {formValue ? JSON.stringify(formValue, null, 2) : ''}\r\n          </div>\r\n        </div>\r\n\r\n        <div className='tp-form__row tp-form__row--right'>\r\n          <button onClick={() => go(1, {})}>重新申請</button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nStep4Result.propTypes = {\r\n  formValue: PropTypes.object,\r\n  go: PropTypes.func\r\n}\r\n\r\nexport default Step4Result\r\n","import React from 'react'\r\nimport Wizard from '@src/components/TpWizard/index'\r\nimport Step1 from './Step1'\r\nimport Step2 from './Step2'\r\nimport Step3 from './Step3'\r\nimport Step4Result from './Step4Result'\r\n\r\nconst Practice13 = () => {\r\n  // all steps in wizard haved already gone through\r\n  const handleOnDone = () => console.log('%c done ', 'background-color: #3A88AE; color: white;font-size: 14px; font-weight: bold;')\r\n\r\n  return (\r\n    <>\r\n\r\n      <h1> 打造 Wizard 共用組件 </h1>\r\n      <p className='tp-desc'>\r\n            建立 Wizard 組件，設計具有流程性質表單容器，可依照 children 組件先後順序定義成各 Step 組件，可在 Step 組件中取得表單資料，並切換步驟以呈現不同表單畫面；另外需提供 ProgressBar 示意目前流程執行百分比，提供用戶較好的使用者體驗。\r\n      </p>\r\n\r\n      <Wizard onDone={handleOnDone}>\r\n        <Step1 />\r\n        <Step2 />\r\n        <Step3 />\r\n        <Step4Result />\r\n      </Wizard>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Practice13\r\n","import React from 'react'\r\n\r\nconst Loader = () => (\r\n  <div className='tp-loader'>\r\n    <div className='tp-loader__container'>\r\n      <div className='tp-loader__item' />\r\n      <div className='tp-loader__item' />\r\n      <div className='tp-loader__item' />\r\n      <div className='tp-loader__item' />\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default Loader\r\n","import React from 'react'\r\nimport api from '@src/services/api'\r\nimport TpLoader from '@src/components/TpLoader/'\r\n\r\nclass Practice07Call01 extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      isLoading: false,\r\n      contacts: []\r\n    }\r\n  }\r\n\r\n  async componentDidMount () {\r\n    this.setState({ ...this.state, isLoading: true })\r\n    const resp = await api.getContacts({ contactId: 'contact01' })\r\n    this.setState({ ...this.state, contacts: resp.contacts, isLoading: false })\r\n  }\r\n\r\n  render () {\r\n    const { isLoading, contacts } = this.state\r\n    const hasContacts = contacts && contacts.length > 0\r\n    return (\r\n      <>\r\n        <h4> [練習1] 直接於組件 componentDidMount 中呼叫 API 取得資訊 </h4>\r\n        <table className='tp-table'>\r\n\r\n          <thead>\r\n            <tr className='tp-table__tr'>\r\n              <th className='tp-table__th'>name</th>\r\n              <th className='tp-table__th'>phone no</th>\r\n              <th className='tp-table__th'>married</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n\r\n            {isLoading && <tr><td colSpan='3'><TpLoader /></td></tr>}\r\n\r\n            {!isLoading && (hasContacts\r\n              ? contacts.map(c => (\r\n                <tr key={c.name} className='tp-table__tr'>\r\n                  <td className='tp-table__td'>{c.name}</td>\r\n                  <td className='tp-table__td'>{c.phone}</td>\r\n                  <td className='tp-table__td'>{c.isMarried ? 'Yes' : 'No'}</td>\r\n                </tr>\r\n              ))\r\n              : <tr><td colSpan='3'>empty</td></tr>)}\r\n\r\n          </tbody>\r\n\r\n        </table>\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Practice07Call01\r\n","import React from 'react'\r\nimport demoModel from '@src/models/demo'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators, compose } from 'redux'\r\nimport PropTypes from 'prop-types'\r\nimport get from 'lodash/get'\r\nimport TpLoader from '@src/components/TpLoader/'\r\n\r\nclass Practice07Call02 extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      isLoading: false\r\n    }\r\n  }\r\n\r\n  async componentDidMount () {\r\n    const { loadAndSetContacts, contacts } = this.props\r\n    if (contacts && contacts.length === 0) {\r\n      this.setState({ ...this.state, isLoading: true })\r\n      await loadAndSetContacts()\r\n      this.setState({ ...this.state, isLoading: false })\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { contacts } = this.props\r\n    const { isLoading } = this.state\r\n    const hasContacts = contacts && contacts.length > 0\r\n    return (\r\n      <>\r\n        <h4> [練習2] 於 demoModel (model/demo.js) 建立 loadAndSetContacts Async Action 呼叫 API 取得資訊後存放於 Store 中，組件呼叫此 action 取得資料並將資料呈現在畫面中 (可共用資料處理邏輯) </h4>\r\n        <table className='tp-table'>\r\n\r\n          <thead>\r\n            <tr className='tp-table__tr'>\r\n              <th className='tp-table__th'>name</th>\r\n              <th className='tp-table__th'>phone no</th>\r\n              <th className='tp-table__th'>married</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n\r\n            {isLoading && <tr><td colSpan='3'><TpLoader /></td></tr>}\r\n\r\n            {!isLoading && (hasContacts\r\n              ? contacts.map(c => (\r\n                <tr key={c.name} className='tp-table__tr'>\r\n                  <td className='tp-table__td'>{c.name}</td>\r\n                  <td className='tp-table__td'>{c.phone}</td>\r\n                  <td className='tp-table__td'>{c.isMarried}</td>\r\n                </tr>\r\n              ))\r\n              : <tr><td colSpan='3'>empty</td></tr>)}\r\n\r\n          </tbody>\r\n\r\n        </table>\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nPractice07Call02.propTypes = {\r\n  contacts: PropTypes.array,\r\n  loadAndSetContacts: PropTypes.func\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  contacts: get(state, 'demo.contacts', [])\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  loadAndSetContacts: demoModel.action.loadAndSetContacts\r\n}, dispatch)\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(Practice07Call02)\r\n","import React from 'react'\r\nimport TpSection from '@src/components/TpSection/index'\r\nimport Practice07Call01 from './Practice07Call01'\r\nimport Practice07Call02 from './Practice07Call02'\r\n\r\nclass Practice07 extends React.Component {\r\n  render () {\r\n    return (\r\n      <>\r\n        <h1> 呼叫 API 取得資訊 </h1>\r\n        <p className='tp-desc'>\r\n          熟悉 API 呼叫方式，成功回應時顯示資訊於畫面中；\r\n          請依照以下需求在載入組件時透過 /services/api.js 中 getContacts 方法呼叫外部 API 來取得聯絡人清單，\r\n          並且依序填入 Table 中顯示，其中 married 欄位回傳值為 bool，請轉換為 Yes / No 字串做為顯示。\r\n          請使用 /components/TpLoader 組件於 table 中做出查詢中的效果。\r\n        </p>\r\n\r\n        <TpSection>\r\n          {/* 直接於組件中呼叫 API 取得資訊 */}\r\n          <Practice07Call01 />\r\n        </TpSection>\r\n\r\n        <TpSection>\r\n          {/* 透過 Async Action 呼叫 API 取得資訊 */}\r\n          <Practice07Call02 />\r\n        </TpSection>\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Practice07\r\n","import { useEffect, useRef, useState } from 'react'\r\n\r\nfunction useTimer (callback, delay) {\r\n  const [remainSecond, setRemainSecond] = useState(0)\r\n  const savedCallback = useRef()\r\n  const savedDelay = useRef()\r\n\r\n  // 保存到期回呼方法\r\n  useEffect(() => {\r\n    savedCallback.current = callback\r\n  }, [callback])\r\n\r\n  // 建立計數器執行並倒數\r\n  useEffect(() => {\r\n    // 刷新延遲秒數\r\n    savedDelay.current = delay\r\n    setRemainSecond(delay)\r\n\r\n    // 每秒執行\r\n    const tick = (id) => {\r\n      // 計算剩餘時間\r\n      if (savedDelay.current > 0) {\r\n        savedDelay.current -= 1\r\n      } else {\r\n        savedDelay.current = 0\r\n      }\r\n\r\n      // 更新輸出的剩餘秒數\r\n      setRemainSecond(savedDelay.current)\r\n\r\n      // 停止條件\r\n      if (savedDelay.current <= 0) {\r\n        savedCallback.current()\r\n        clearInterval(id)\r\n      }\r\n    }\r\n\r\n    if (delay !== null) {\r\n      // 產生計數器\r\n      const id = setInterval(() => tick(id), 1000)\r\n\r\n      // 清除計數器 (cleanup)\r\n      return () => clearInterval(id)\r\n    }\r\n  }, [delay])\r\n\r\n  // 輸出剩餘秒數\r\n  return remainSecond\r\n}\r\n\r\nexport default useTimer\r\n","\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport useTimer from '@src/utils/hooks/useTimer'\r\n\r\nconst CountDownTimer = ({ seconds, onTimeUp }) => {\r\n  // ===== solution A ======\r\n\r\n  const remainSecond = useTimer(onTimeUp, seconds)\r\n\r\n  // ===== solution B ======\r\n\r\n  /*\r\n\r\n  // state\r\n  const [remainSecond, setRemainSecond] = useState(0)\r\n\r\n  // effect\r\n  useEffect(() => {\r\n    const countDownSecond = seconds\r\n    setRemainSecond(seconds)\r\n\r\n    // 產生 Timer\r\n    console.log(`[timer] == start count down ${countDownSecond}s  ==`)\r\n    const startTime = Date.now()\r\n    const countDownTimer = setInterval(() => {\r\n      // 計算剩餘秒數\r\n      const pastSeconds = parseInt((Date.now() - startTime) / 1000)\r\n      const remain = (countDownSecond - pastSeconds)\r\n      setRemainSecond(remain < 0 ? 0 : remain)\r\n      console.log('[timer] count down: ', remain)\r\n\r\n      // 檢查是否結束\r\n      if (remain <= 0) {\r\n        clearInterval(countDownTimer)\r\n        console.log(`[timer] == stop count down ${countDownSecond}s  ==`)\r\n        onTimeUp() // 透過 prop 通知外部時間已到\r\n      }\r\n    }, 1000)\r\n\r\n    return () => {\r\n      // 清除 Timer\r\n      clearInterval(countDownTimer)\r\n      console.log(`[timer] == stop count down ${countDownSecond}s  ==`)\r\n    }\r\n  }, [onTimeUp, seconds]) // 相依 prop / state 值的 Effect\r\n\r\n  */\r\n\r\n  return (\r\n    <div className='tp-count-down-timer'>\r\n      <div className='tp-count-down-timer__time'>\r\n        {new Date(remainSecond * 1000).toISOString().substr(11, 8)}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nCountDownTimer.propTypes = {\r\n  onTimeUp: PropTypes.func,\r\n  seconds: PropTypes.number\r\n}\r\n\r\nexport default CountDownTimer\r\n","import React, { useState, useCallback } from 'react'\r\nimport CountDownTimer from './CountDownTimer'\r\nimport TpSection from '@src/components/TpSection/index'\r\n\r\nconst Practice10 = () => {\r\n  const [seconds, setSeconds] = useState(10)\r\n\r\n  // useCallback 會回傳該 callback 的 memoized 版本，它僅在依賴改變時才會更新\r\n  // 當傳遞 callback 到已經最佳化的 child component 時非常有用，這些 child component 依賴於引用相等性來防止不必要的 render\r\n  const handleTimeup = useCallback(() => console.log('time up!!'), [])\r\n\r\n  return (\r\n    <>\r\n      <h1> 熟悉 Hook 操作方式 </h1>\r\n      <p className='tp-desc'>\r\n          以 Hook API 實作 CountDownTimer 組件，透過輸入框改變 seconds 屬性來開始倒數計時，時間倒數完畢後透過 onTimeUp 方法屬性通知外部。\r\n      </p>\r\n\r\n      <TpSection>\r\n          請輸入倒數秒數 <input value={seconds} type='number' onChange={e => setSeconds(Number(e.target.value) || 0)} />\r\n        <CountDownTimer seconds={seconds} onTimeUp={handleTimeup} />\r\n      </TpSection>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Practice10\r\n","/* eslint-disable no-template-curly-in-string */\r\nimport * as yup from 'yup'\r\n\r\nexport default ({ title } = { title: '' }) => yup.string().test({\r\n  name: 'accountSchema', // 檢核名稱 (不重複，套件內部使用)\r\n  exclusive: true, // 如果有相同名稱的檢核時，使用此獨家的檢核邏輯\r\n  params: { title }, // 插入錯誤訊息的參數定義\r\n  message: '${title}僅允許輸入小寫英文', // 預設錯誤訊息\r\n\r\n  // 檢核邏輯\r\n  // 回傳 true / false 表示是否合法，並使用\"預設\"錯誤訊息\r\n  // 回傳 createError 表示發生特定錯誤需顯示特定的錯誤訊息\r\n  test: async function isValid (value) {\r\n    const { createError, path } = this\r\n\r\n    // rule01 (自定義的錯誤訊息)\r\n    if (value === 'admin') {\r\n      return createError({ path, message: `${title}禁止設定為 ${value}` })\r\n    }\r\n\r\n    // rule02 (非同步的遠端驗證)\r\n    await new Promise(resolve => setTimeout(resolve, 50))\r\n\r\n    // rule for default error message\r\n    return /^[a-z]+$/.test(value)\r\n  }\r\n})\r\n","/* eslint-disable no-template-curly-in-string */\r\nimport * as yup from 'yup'\r\n\r\nexport default () => yup.string().test({\r\n  name: 'twIdSchema',\r\n  exclusive: true,\r\n  params: {},\r\n  message: '身分證號格式不合',\r\n\r\n  // 檢核邏輯\r\n  // 回傳 true / false 表示是否合法，並使用\"預設\"錯誤訊息\r\n  // 回傳 createError 表示發生特定錯誤需顯示特定的錯誤訊息\r\n  test: async function isValid (value) {\r\n    // 長度只能 8, 10, 11\r\n    if (value.length !== 8 && value.length !== 10 && value.length !== 11) return false\r\n\r\n    // 若ID前二位 或 第9、10位為英文字母，則為外國人ID，就不檢核身分證編碼邏輯，直接通過\r\n    const isBeginWith2EC = /^[a-zA-Z][a-zA-Z].*/.test(value)\r\n    const isNightTenWith2EC = /^.{8}[a-zA-Z][a-zA-Z]$/.test(value)\r\n    // 公司戶統編8碼數字 可通過驗証\r\n    const isCompanyId = /^\\d{8}$/.test(value)\r\n    if (isBeginWith2EC || isNightTenWith2EC || isCompanyId) return true\r\n\r\n    // 開始檢核身分證號\r\n    var tab = 'ABCDEFGHJKLMNPQRSTUVXYWZIO'\r\n    var A1 = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3]\r\n    var A2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2, 3, 4, 5]\r\n    var Mx = [9, 8, 7, 6, 5, 4, 3, 2, 1, 1]\r\n\r\n    // 重碼身分證字號11碼的前10碼仍需進行身分證字號驗證\r\n    if (value.length !== 10 && value.length !== 11) return false\r\n    var i = tab.indexOf(value.toUpperCase().charAt(0))\r\n    if (i === -1) return false\r\n    var sum = A1[i] + A2[i] * 9\r\n    for (i = 1; i < 10; i++) {\r\n      var v = parseInt(value.charAt(i))\r\n      if (isNaN(v)) return false\r\n      sum = sum + v * Mx[i]\r\n    }\r\n    if (sum % 10 !== 0) return false\r\n\r\n    return true\r\n  }\r\n})\r\n","import React from 'react'\r\nimport TpSection from '@src/components/TpSection/index'\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik'\r\nimport * as yup from 'yup'\r\nimport strAccountSchema from '@src/utils/validations/strAccountSchema'\r\nimport strTwIdSchema from '@src/utils/validations/strTwIdSchema'\r\n\r\nclass Practice09 extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.formik = {}\r\n    this.state = {\r\n      // 是否需要檢核成年年齡\r\n      isCheckAgeRange: true,\r\n      // 初始表單資料\r\n      formInitValues: {\r\n        account: '',\r\n        name: '',\r\n        id: '',\r\n        age: 0,\r\n        pcode: '',\r\n        pcodeConfirm: ''\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    // 模擬呼叫 api 等待資料回應\r\n    this.getUserInfoToFillForm()\r\n  }\r\n\r\n  getUserInfoToFillForm = () => {\r\n    setTimeout(() => {\r\n      // 再次初始化表單資料\r\n      this.setState({\r\n        ...this.state,\r\n        formInitValues: {\r\n          account: 'CHRIS',\r\n          name: '克里斯',\r\n          id: 'A99999999',\r\n          age: 0,\r\n          pcode: '123',\r\n          pcodeConfirm: '456'\r\n        }\r\n      })\r\n    }, 1000)\r\n  }\r\n\r\n  // 表單檢核邏輯\r\n  formSchema = () => yup.object().shape({\r\n    // [必填、小寫英文、不能為 admin 字串]\r\n    account: yup.string().required().concat(strAccountSchema({ title: '帳號' })),\r\n    // [必填]\r\n    name: yup.string().required(),\r\n    // [必填、身分證邏輯]\r\n    id: yup.string().required().concat(strTwIdSchema()),\r\n    // [必填、選擇性檢核需大於18歲邏輯] (相依狀態值)\r\n    age: this.getAgeSchema(),\r\n    // [必填]\r\n    pcode: yup.string().required(),\r\n    // [密碼欄位輸入後才檢核。必填、需與密碼欄位輸入的資訊相同] (相依輸入值)\r\n    pcodeConfirm: yup.string().when('pcode', (pcode, schema) => {\r\n      return pcode ? schema.oneOf([pcode], '密碼需相同').required() : schema\r\n    })\r\n  });\r\n\r\n  getAgeSchema = () => {\r\n    const { isCheckAgeRange } = this.state\r\n    const required = yup.number().required()\r\n    const min = yup.number().min(18)\r\n    return required.concat(isCheckAgeRange ? min : null)\r\n  }\r\n\r\n  handleSwitchAgeRangeChecker = () => {\r\n    this.setState({ ...this.state, isCheckAgeRange: !this.state.isCheckAgeRange })\r\n  }\r\n\r\n  handleChangeAgeTo18 = setFieldValue => e => {\r\n    setFieldValue('age', 18)\r\n  }\r\n\r\n  handleRegister = async values => {\r\n    const formData = JSON.stringify(values, null, 2)\r\n    console.log('%c formData ', 'background-color: #3A88AE; color: white;font-size: 14px; font-weight: bold;', formData)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <>\r\n        <h1> 表單驗證 </h1>\r\n        <p className='tp-desc'>\r\n          熟悉 <a target='blank' href='https://jaredpalmer.com/formik/'>FORMIK</a>  操作方式，使用 <a target='blank' href='https://github.com/jquense/yup'>Yup</a> 對目前的表單進行驗證，如驗證通過請將數值 alert 顯示。\r\n        </p>\r\n        <ol>\r\n          <li>動態初始表單資料：於 componentDidMount 模擬從 api 取的表單資料，Formik 加註 enableReinitialize 屬性允許初始資料異動時可自動初始表單，顯示新資料於表單中。</li>\r\n          <li>異動資料內容：按下\"設定年齡值為18\"按鈕時，透過 setFieldValue 方法設定表單中 age 值為 18。</li>\r\n          <li>[帳號]：必填、小寫英文、不能為 admin 字串。</li>\r\n          <li>[姓名]：必填。</li>\r\n          <li>[身分證號]：必填、身分證邏輯，請於 utils/validations/ 建立 strTwIdSchema.js 身分證檢核邏輯。</li>\r\n          <li>[年齡]：必填、選擇性檢核需大於18歲邏輯，請依據 state.isCheckAgeRange 狀態決定是否進行18歲檢核。</li>\r\n          <li>[密碼]：必填。</li>\r\n          <li>[確認密碼]：密碼欄位輸入後才檢核。必填、需與密碼欄位輸入的資訊相同，請使用 yup.string().when() 實作。</li>\r\n        </ol>\r\n        <TpSection>\r\n          <h3>會員註冊</h3>\r\n\r\n          <Formik\r\n            initialValues={this.state.formInitValues}\r\n            validationSchema={this.formSchema()}\r\n            onSubmit={this.handleRegister}\r\n            enableReinitialize\r\n          >\r\n\r\n            {(formik) => {\r\n              // Formik render methods and props\r\n              // https://jaredpalmer.com/formik/docs/api/formik#formik-render-methods-and-props\r\n              this.formik = formik // 如果需要在此組件外操作 formik 時可以使用\r\n              const { isSubmitting, values, setFieldValue } = formik\r\n              return (\r\n                <Form className='tp-form'>\r\n\r\n                  <div className='tp-form__row'>\r\n                    <div className='tp-code'>\r\n                      {values ? JSON.stringify(values, null, 2) : ''}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='tp-form__row'>\r\n                    <div className='tp-form__label'> 帳號 </div>\r\n                    <div className='tp-form__field'>\r\n                      <Field type='text' name='account' />\r\n                      <ErrorMessage name='account' component='div' className='tp-form__error' />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='tp-form__row'>\r\n                    <div className='tp-form__label'> 姓名 </div>\r\n                    <div className='tp-form__field'>\r\n                      <Field type='text' name='name' />\r\n                      <ErrorMessage name='name' component='div' className='tp-form__error' />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='tp-form__row'>\r\n                    <div className='tp-form__label'> 身分證號 </div>\r\n                    <div className='tp-form__field'>\r\n                      <Field type='text' name='id' />\r\n                      <ErrorMessage name='id' component='div' className='tp-form__error' />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='tp-form__row'>\r\n                    <div className='tp-form__label'> 年齡 </div>\r\n                    <div className='tp-form__field'>\r\n                      <Field type='number' name='age' />\r\n                      <ErrorMessage name='age' component='div' className='tp-form__error' />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='tp-form__row'>\r\n                    <div className='tp-form__label'> 密碼 </div>\r\n                    <div className='tp-form__field'>\r\n                      <Field type='password' name='pcode' />\r\n                      <ErrorMessage name='pcode' component='div' className='tp-form__error' />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='tp-form__row'>\r\n                    <div className='tp-form__label'> 確認密碼 </div>\r\n                    <div className='tp-form__field'>\r\n                      <Field type='password' name='pcodeConfirm' />\r\n                      <ErrorMessage name='pcodeConfirm' component='div' className='tp-form__error' />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='tp-form__row tp-form__row--right'>\r\n                    <button type='button' onClick={this.handleChangeAgeTo18(setFieldValue)}> 設定年齡值為18 </button>\r\n                    <button type='button' onClick={this.handleSwitchAgeRangeChecker}> 是否檢查年齡區間: {this.state.isCheckAgeRange ? 'Y' : 'N'}  </button>\r\n                  </div>\r\n\r\n                  <div className='tp-form__row tp-form__row--right'>\r\n                    <button type='submit' disabled={isSubmitting}> 登入 </button>\r\n                  </div>\r\n                </Form>\r\n              )\r\n            }}\r\n\r\n          </Formik>\r\n\r\n        </TpSection>\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Practice09\r\n","\r\nconst setItem = {\r\n  /**\r\n     * @description 儲存 key/value 於 sessionStorage\r\n     * @param {string} key key\r\n     * @param {object} value 儲存資料\r\n     */\r\n  session: (key, value) => { if (key) window.sessionStorage.setItem(key, value) },\r\n  /**\r\n     * @description 儲存 key/value 於 localStorage\r\n     * @param {string} key key\r\n     * @param {object} value 儲存資料\r\n     */\r\n  local: (key, value) => { if (key) window.localStorage.setItem(key, value) },\r\n  /**\r\n     *\r\n     * @description 設定cookie\r\n     * @param {string} name cookie名稱\r\n     * @param {string} value cookie值\r\n     * @param {string} expiredays 有效日(day)\r\n     */\r\n  cookie: (name, value, expiredays) => {\r\n    let expires = ''\r\n    if (expiredays) {\r\n      const date = new Date()\r\n      date.setTime(date.getTime() + (expiredays * 24 * 60 * 60 * 1000))\r\n      expires = '; expires=' + date.toUTCString()\r\n    }\r\n    document.cookie = name + '=' + (value || '') + expires + '; path=/'\r\n  }\r\n}\r\n\r\nconst getItem = {\r\n  /**\r\n     * @description 由 sessionStorage 取得指定 key 之資料\r\n     * @param {string} key key\r\n     */\r\n  session: (key) => {\r\n    let _value = ''\r\n    if (key) _value = window.sessionStorage.getItem(key)\r\n    return _value || ''\r\n  },\r\n  /**\r\n     * @description 由 localStorage 取得指定 key 之資料\r\n     * @param {string} key key\r\n     */\r\n  local: (key) => {\r\n    let _value = ''\r\n    if (key) _value = window.localStorage.getItem(key)\r\n    return _value || ''\r\n  },\r\n  /**\r\n     *\r\n     * @description 取得cookie\r\n     * @param {string} name cookie名稱\r\n     */\r\n  cookie: (name) => {\r\n    const nameEQ = name + '='\r\n    const ca = document.cookie.split(';')\r\n    for (let i = 0; i < ca.length; i++) {\r\n      let c = ca[i]\r\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length)\r\n      if (c.indexOf(nameEQ) === 0) {\r\n        // 資料由cookie取出時要注意需要decode(ascii)\r\n        return decodeURIComponent(c.substring(nameEQ.length, c.length))\r\n      }\r\n    }\r\n    return null\r\n  }\r\n}\r\n\r\nconst removeItem = {\r\n  /**\r\n     * @description 由 sessionStorage 移除指定 key 之資料\r\n     * @param {string} key key\r\n     */\r\n  session: (key) => { if (key) window.sessionStorage.removeItem(key) },\r\n  /**\r\n     * @description 由 localStorage 移除指定 key 之資料\r\n     * @param {string} key key\r\n     */\r\n  local: (key) => { if (key) window.localStorage.removeItem(key) },\r\n  /**\r\n     * @description 由 cookie 移除指定 name 之資料\r\n     * @param {string} name name\r\n     */\r\n  cookie: (name) => {\r\n    document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT'\r\n  }\r\n}\r\n\r\nconst clear = {\r\n  /**\r\n     * @description 清除所有儲存於 sessionStorage 之資料\r\n     */\r\n  session: () => { window.sessionStorage.clear() },\r\n  /**\r\n     * @description 清除所有儲存於 localStorage 之資料\r\n     */\r\n  local: () => { window.localStorage.clear() },\r\n  /**\r\n     * @description 清除所有的cookies\r\n     */\r\n  cookie: () => {\r\n    var cookies = document.cookie.split(';')\r\n\r\n    for (var i = 0; i < cookies.length; i++) {\r\n      var cookie = cookies[i]\r\n      var eqPos = cookie.indexOf('=')\r\n      var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie\r\n      document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT'\r\n    }\r\n  },\r\n  /**\r\n     * @description 清除所有儲存於 sessionStorage 與 localStorage 之資料\r\n     */\r\n  all: () => {\r\n    clear.session()\r\n    clear.local()\r\n    clear.cookie()\r\n  }\r\n}\r\n\r\nexport {\r\n  setItem,\r\n  getItem,\r\n  removeItem,\r\n  clear\r\n}\r\n","\r\nimport { getItem, setItem, removeItem, clear } from '@src/utils/storageHelper.js'\r\n\r\n/**\r\n * @description 儲存 storage 使用的 key\r\n */\r\nconst key = {\r\n  conversationId: 'conversationId',\r\n  token: 'token',\r\n  id: 'id',\r\n  name: 'name'\r\n}\r\n\r\nexport default {\r\n\r\n  /**\r\n   * 初始對話後取得的對談ID\r\n   */\r\n  conversationId: {\r\n    key: key.conversationId,\r\n    get value () { return getItem.session(this.key) },\r\n    set value (val) { setItem.session(this.key, val) },\r\n    remove () { removeItem.session(this.key) }\r\n  },\r\n\r\n  /**\r\n   * Token\r\n   */\r\n  token: {\r\n    key: key.token,\r\n    get value () { return getItem.session(this.key) },\r\n    set value (val) { setItem.session(this.key, val) },\r\n    remove () { removeItem.session(this.key) }\r\n  },\r\n\r\n  /**\r\n   * 用戶ID\r\n   */\r\n  id: {\r\n    key: key.id,\r\n    get value () { return getItem.local(this.key) },\r\n    set value (val) { setItem.local(this.key, val) },\r\n    remove () { removeItem.local(this.key) }\r\n  },\r\n\r\n  /**\r\n   * 用戶姓名\r\n   */\r\n  name: {\r\n    key: key.name,\r\n    get value () { return getItem.cookie(this.key) },\r\n    set value (val) { setItem.cookie(this.key, val) },\r\n    remove () { removeItem.cookie(this.key) }\r\n  },\r\n\r\n  /**\r\n   * 清除所有存放在前端的資料\r\n   */\r\n  clearAll () {\r\n    clear.all()\r\n  }\r\n}\r\n","import React from 'react'\r\nimport TpSection from '@src/components/TpSection/index'\r\nimport storage from '@src/services/storage'\r\n\r\nclass Practice04 extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      token: '',\r\n      id: '',\r\n      name: ''\r\n    }\r\n  }\r\n\r\n  handleTokenSave = () => {\r\n    // save token to session storage\r\n    storage.token.value = this.state.token\r\n    this.forceUpdate()\r\n  }\r\n\r\n  handleIdSave = () => {\r\n    // save id to local storage\r\n    storage.id.value = this.state.id\r\n    this.forceUpdate()\r\n  }\r\n\r\n  handleNameSave = () => {\r\n    // save name to cookie\r\n    storage.name.value = this.state.name\r\n    this.forceUpdate()\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <>\r\n        <h1> 存取前端資訊 </h1>\r\n        <p className='tp-desc'>\r\n          熟悉前端資訊封裝方式，請依照以下要求使用 \\services\\storage.js 存放以下資訊，重整頁面後可顯示存放於前端的資訊於輸入框下方。\r\n        </p>\r\n\r\n        <TpSection>\r\n          <div>存放 token 於 session storage 中</div>\r\n          <input type='text' onChange={e => this.setState({ ...this.state, token: e.target.value })} />\r\n          <button onClick={this.handleTokenSave}>save</button>\r\n\r\n          <div className='tp-hint'>您存放的 token 資料: {storage.token.value} </div>\r\n        </TpSection>\r\n\r\n        <TpSection>\r\n          <div>存放 id 於 local storage 中</div>\r\n          <input type='text' onChange={e => this.setState({ ...this.state, id: e.target.value })} />\r\n          <button onClick={this.handleIdSave}>save</button>\r\n\r\n          <div className='tp-hint'>您存放的 id 資料: {storage.id.value} </div>\r\n        </TpSection>\r\n\r\n        <TpSection>\r\n          <div>存放 name 於 cookie 中</div>\r\n          <input type='text' onChange={e => this.setState({ ...this.state, name: e.target.value })} />\r\n          <button onClick={this.handleNameSave}>save</button>\r\n\r\n          <div className='tp-hint'>您存放的 name 資料: {storage.name.value} </div>\r\n        </TpSection>\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Practice04\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport PropTypes from 'prop-types'\r\nimport TpXBtn from '@src/components/TpXBtn'\r\n\r\nconst PreviewBar = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-bottom: 10px;\r\n`\r\n\r\nconst ImageFrame = styled.div`\r\n  position: relative;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  padding: 5px;\r\n  width: 100px;\r\n  height: 100px;\r\n  margin: 10px 10px 0 0;\r\n  /* background-color: #f9f9f9; */\r\n\r\n  &:hover {\r\n    box-shadow: 0 0 2px 1px rgba(255, 255, 255, 0.67);\r\n  }\r\n`\r\nconst ImageWrap = styled.div`\r\n   overflow: hidden;\r\n   height: 100%;\r\n   width: 100%;\r\n   text-align: center;\r\n`\r\n\r\nconst Image = styled.img`\r\n  width: auto;\r\n  height: 100%;\r\n`\r\n\r\nconst ImagePreviewBar = ({ files = [], onRemove }) => {\r\n  return (\r\n    <PreviewBar>\r\n      {(files || []).map(file => (\r\n        <ImageFrame key={file.url}>\r\n          <TpXBtn margin='10' size='10' color='#FFF' onClick={() => onRemove(file.guid)} />\r\n          <ImageWrap>\r\n            <Image src={file.url} alt={file.raw.name} />\r\n          </ImageWrap>\r\n        </ImageFrame>\r\n      ))}\r\n    </PreviewBar>\r\n  )\r\n}\r\n\r\nImagePreviewBar.propTypes = {\r\n  files: PropTypes.array,\r\n  onRemove: PropTypes.func\r\n}\r\n\r\nexport default ImagePreviewBar\r\n","/* eslint-disable react/prop-types */\r\nimport React, { useState, useRef, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport ImagePreviewBar from './ImagePreviewBar'\r\nimport upload from '@src/assets/images/upload.png'\r\n\r\nconst InputFile = styled.input`\r\n  display: none;\r\n`\r\n\r\nconst PickFileBtn = styled.button`\r\n  padding: 7px 10px 5px 10px;\r\n`\r\n\r\nconst UploadIcon = styled.img`\r\n  height: 15px;\r\n`\r\n\r\nconst TpImageUpload = ({ value, onChange }) => {\r\n  const [files, setFiles] = useState([])\r\n  const inputRef = useRef()\r\n  const onChangeRef = useRef()\r\n\r\n  useEffect(() => {\r\n    onChangeRef.current = onChange\r\n  }, [onChange])\r\n\r\n  // 父層傳入的資料變動時，更新組件內資料\r\n  useEffect(() => {\r\n    setFiles(value)\r\n  }, [value])\r\n\r\n  const handleChooseFiles = (e) => {\r\n    // FileList 內存放許多 Blob 物件且 Blob 不是一般的物件，但從中可以透過 name, size, type 取得該檔案的資訊\r\n    // FileList is not an Array, and does not inherit from Array,\r\n    // but it does implement the iterable protocol, so you can use the spread syntax to get it as an array.\r\n    const files = [...e.target.files].map((file, index) => ({\r\n      guid: index,\r\n      raw: file,\r\n      url: URL.createObjectURL(file)\r\n    }))\r\n\r\n    setFiles(files)\r\n    onChangeRef.current(files)\r\n  }\r\n\r\n  const handleRemove = (guid) => {\r\n    setFiles(files => {\r\n      const remainFiles = files.filter(f => f.guid !== guid)\r\n      onChangeRef.current(remainFiles)\r\n      return remainFiles\r\n    })\r\n  }\r\n\r\n  return (\r\n    <form>\r\n\r\n      <div>\r\n        {/* choose images */}\r\n        <InputFile type='file' ref={inputRef} onChange={handleChooseFiles} multiple accept='image/*' />\r\n        <PickFileBtn type='button' onClick={() => inputRef.current.click()}><UploadIcon src={upload} alt='' /></PickFileBtn>\r\n      </div>\r\n\r\n      {/* preview uploaded images */}\r\n      <ImagePreviewBar files={files} onRemove={handleRemove} />\r\n\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default TpImageUpload\r\n","/* eslint-disable react/prop-types */\r\nimport React, { useState } from 'react'\r\nimport TpImageUpload from '@src/components/TpImageUpload'\r\nimport api from '@src/services/api'\r\n\r\nconst Practice15 = () => {\r\n  const [files, setFiles] = useState([])\r\n\r\n  const handleImageChange = images => {\r\n    setFiles(images)\r\n  }\r\n\r\n  const handleRemoveAll = e => {\r\n    setFiles([])\r\n  }\r\n\r\n  const handleUploadFiles = async (e) => {\r\n    e.preventDefault()\r\n    console.log(files.map(file => file.url))\r\n\r\n    // prepare form data\r\n    var formData = new FormData()\r\n    files.forEach(file => formData.append('file', file.raw))\r\n    formData.append('userId', 'wasichris')\r\n\r\n    // call api\r\n    const resp = await api.uploadImage(formData)\r\n    console.log(resp)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1> 打造 Upload File 共用組件 </h1>\r\n      <p className='tp-desc'>\r\n          建立 Upload File 組件。\r\n      </p>\r\n\r\n      {/* pick images */}\r\n      <TpImageUpload value={files} onChange={handleImageChange} />\r\n\r\n      {\r\n        files && files.length > 0 && (\r\n          <>\r\n            <button type='button' onClick={handleUploadFiles}>Upload</button>\r\n            <button type='button' onClick={handleRemoveAll}>Remove All</button>\r\n          </>\r\n        )\r\n      }\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Practice15\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport TpBoundary from '@src/components/TpBoundary/index'\r\n\r\nclass Practice03Child extends React.Component {\r\n  render () {\r\n    return (\r\n      <TpBoundary tag='child component'>\r\n        子層組件\r\n\r\n        <TpBoundary tag='top'>\r\n          從父組件對子組件插入&lt;p&gt;I'm top&lt;/p&gt;\r\n          {this.props.top}\r\n        </TpBoundary>\r\n\r\n        <TpBoundary tag='middle'>\r\n          從父組件對子組件插入&lt;p&gt;I'm middle&lt;/p&gt;\r\n          {this.props.children}\r\n        </TpBoundary>\r\n\r\n        <TpBoundary tag='bottom'>\r\n          從父組件對子組件插入&lt;p&gt;I'm dottom&lt;/p&gt;\r\n          {this.props.bottom}\r\n        </TpBoundary>\r\n\r\n      </TpBoundary>\r\n    )\r\n  }\r\n}\r\n\r\nPractice03Child.propTypes = {\r\n  children: PropTypes.element,\r\n  top: PropTypes.element,\r\n  bottom: PropTypes.element\r\n\r\n}\r\n\r\nexport default Practice03Child\r\n","import React from 'react'\r\nimport Practice03Child from './Practice03Child'\r\nimport TpSection from '@src/components/TpSection/index'\r\n\r\nclass Practice03 extends React.Component {\r\n  top = <p>I'm top</p>\r\n  middle = <p>I'm middle</p>\r\n  bottom = <p>I'm bottom</p>\r\n\r\n  render () {\r\n    return (\r\n      <>\r\n        <h1> 於子組件中插入區塊 </h1>\r\n        <p className='tp-desc'>\r\n          熟悉插入子組件特定區塊的方式，請於子組件各指定區塊插入對應文字。\r\n        </p>\r\n\r\n        <TpSection>\r\n\r\n          {/* 父組件 */}\r\n          <div>父層組件</div>\r\n\r\n          {/* 子組件 */}\r\n          <Practice03Child top={this.top} bottom={this.bottom}>\r\n            {this.middle}\r\n          </Practice03Child>\r\n\r\n        </TpSection>\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Practice03\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport TpBoundary from '@src/components/TpBoundary/index'\r\n\r\nclass Practice02Child extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      internalValue: 0,\r\n      prevPropValue: '' // 存放前一次的 value prop\r\n    }\r\n  }\r\n\r\n  static getDerivedStateFromProps (props, state) {\r\n    // 將 value prop 同步異動子組件的 internalValue state 值\r\n    // (判斷 value prop 與 前一次的 value prop 不同時才變動)\r\n    if (props.value !== state.prevPropValue) {\r\n      return { ...state, internalValue: props.value, prevPropValue: props.value }\r\n    }\r\n\r\n    return null // 回傳 null 表示 state 無異動\r\n  }\r\n\r\n  handleInternalValueChange = e => {\r\n    // 當 input 被修改時，透過 onChange prop 通知父組件\r\n    this.props.onValueChange(e.target.value)\r\n\r\n    // 同步異動 internalValue state 值\r\n    this.setState({ ...this.state, internalValue: e.target.value })\r\n  }\r\n\r\n  render () {\r\n    const { value } = this.props\r\n    const { internalValue } = this.state\r\n\r\n    return (\r\n      <TpBoundary tag='child component'>\r\n        <div>變動資料可通知父層組件來同步資料</div>\r\n        <div><input type='text' value={internalValue} onChange={this.handleInternalValueChange} /></div>\r\n        <div className='tp-hint'>\r\n          外部傳入的數值(prop): {value} <br />\r\n          內部使用的數值(state): {internalValue}\r\n        </div>\r\n      </TpBoundary>\r\n    )\r\n  }\r\n}\r\n\r\nPractice02Child.propTypes = {\r\n  value: PropTypes.string,\r\n  onValueChange: PropTypes.func\r\n}\r\n\r\nexport default Practice02Child\r\n","import React from 'react'\r\nimport Practice02Child from './Practice02Child'\r\nimport TpSection from '@src/components/TpSection/index'\r\n\r\nclass Practice02 extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      phone: '0922123123'\r\n    }\r\n  }\r\n\r\n  handlePhoneChange = e => {\r\n    this.setState({ ...this.state, phone: e.target.value })\r\n  }\r\n\r\n  handleChildPhoneChange = newPhone => {\r\n    this.setState({ ...this.state, phone: newPhone })\r\n  }\r\n\r\n  render () {\r\n    const { phone } = this.state\r\n    return (\r\n      <>\r\n        <h1> 父子組件溝通 </h1>\r\n        <p className='tp-desc'>\r\n          熟悉父子組件溝通方式，實現父子組件資料同步需求；如下父組件包含一個 phone 輸入框，變動數值時將值透過 props 傳遞至子組件中，子組件在 getDerivedStateFromProps 中將收到的值存放在 state 保存並顯示在子組件輸入框，亦可透過子組件的輸入框異動來通知父組件同步數值。\r\n        </p>\r\n\r\n        <TpSection>\r\n\r\n          {/* 父組件 */}\r\n          <div>請輸入手機號碼(phone)</div>\r\n          <input type='text' value={phone} onChange={this.handlePhoneChange} />\r\n          <div className='tp-hint'> 內部使用的數值(state): {phone} </div>\r\n\r\n          {/* 子組件 */}\r\n          <Practice02Child value={phone} onValueChange={this.handleChildPhoneChange} />\r\n\r\n        </TpSection>\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Practice02\r\n","import React, { useRef, useEffect, useCallback, useState, useMemo } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport ReactDOM from 'react-dom'\r\nimport TpXBtn from '@src/components/TpXBtn'\r\n\r\nconst getScrollbarWidth = () => {\r\n  // 取得的寬度有一點誤差，在此僅做練習使用\r\n  const outer = document.createElement('div')\r\n  const inner = document.createElement('div')\r\n  outer.style.overflow = 'scroll'\r\n  document.body.appendChild(outer)\r\n  outer.appendChild(inner)\r\n  const scrollbarWidth = outer.offsetWidth - inner.offsetWidth\r\n  document.body.removeChild(outer)\r\n  return scrollbarWidth\r\n}\r\n\r\nconst TpModal = ({ title, isVisible, children, maxWidth, target, onClose } = { children: [] }) => {\r\n  // 將彈跳視窗移出到特定的元素上\r\n  // 避免被父層樣式影響蓋住 e.g. overflow: hidden, z-index\r\n  const portalTarget = target || document.body\r\n\r\n  // 點選 Backdrop (不含modal) 來關閉彈跳視窗\r\n  const modalRef = useRef(null)\r\n  const handleBackdropClick = (e) => {\r\n    if (!modalRef.current.contains(e.target)) {\r\n      onClose()\r\n    }\r\n  }\r\n\r\n  // 收到按下 Esc 鍵的事件時關閉彈跳視窗\r\n  const handleKeyDown = useCallback(\r\n    (e) => {\r\n      const { keyCode } = e\r\n      if (keyCode === 27) onClose()\r\n    },\r\n    [onClose]\r\n  )\r\n\r\n  // 因為 useEffect 相依 handleKeyDown，然後裡面又相依 onClose，所以要將 handleKeyDown 包成 useCallback 方法\r\n  // const handleKeyDown = (e) => {\r\n  //   const { keyCode } = e\r\n  //   if (keyCode === 27) {\r\n  //     onClose()\r\n  //   }\r\n  //   console.log('%c e ', 'background-color: #3A88AE; color: white;font-size: 14px; font-weight: bold;', e)\r\n  // }\r\n\r\n  // 監看 window 下的所有 keydown 事件\r\n  useEffect(() => {\r\n    if (isVisible) {\r\n      window.addEventListener('keydown', handleKeyDown)\r\n      return () => {\r\n        window.removeEventListener('keydown', handleKeyDown)\r\n      }\r\n    }\r\n  }, [handleKeyDown, isVisible])\r\n\r\n  // 取得 scrollbar 寬度 (使用 useMemo 執行傷效能的動作一次就好)\r\n  const memoizedScrollbarWidth = useMemo(getScrollbarWidth, [])\r\n\r\n  // 記住原本在 html 及 body 的 overflow 樣式 (當 modal 消失時復原樣式使用)\r\n  const [[htmlOverflow, bodyOverflow]] =\r\n    useState([document.querySelector('html').style.overflow, document.querySelector('body').style.overflow])\r\n\r\n  // 讓畫面被鎖定來避免畫面滾動的混亂\r\n  useEffect(() => {\r\n    const hasScrollbar = window.innerWidth > document.body.clientWidth\r\n    if (isVisible && hasScrollbar) {\r\n      // 補上原本 scrollbar 寬度，盡量減少畫面的明顯位移\r\n      document.querySelector('html').style.paddingRight = memoizedScrollbarWidth + 'px'\r\n      document.querySelector('html').style.overflow = 'hidden'\r\n      document.querySelector('body').style.overflow = 'hidden'\r\n    } else {\r\n      document.querySelector('html').style.paddingRight = '0px'\r\n      document.querySelector('html').style.overflow = htmlOverflow\r\n      document.querySelector('body').style.overflow = bodyOverflow\r\n    }\r\n  }, [bodyOverflow, htmlOverflow, isVisible, memoizedScrollbarWidth])\r\n\r\n  // render\r\n  return isVisible\r\n    ? ReactDOM.createPortal(\r\n      <Backdrop onClick={handleBackdropClick}>\r\n        {/* 彈跳視窗 */}\r\n        <Modal ref={modalRef} maxWidth={maxWidth}>\r\n\r\n          {/* 標頭 */}\r\n          <ModalHeader>\r\n            <ModalTitle> {title} </ModalTitle>\r\n            <TpXBtn margin='15' size='15' color='#333' onClick={onClose} />\r\n          </ModalHeader>\r\n\r\n          {/* 內容 */}\r\n          <ModalContent>\r\n            {children}\r\n          </ModalContent>\r\n\r\n        </Modal>\r\n      </Backdrop>,\r\n      portalTarget\r\n    )\r\n    : null\r\n}\r\n\r\nTpModal.propTypes = {\r\n  children: PropTypes.node,\r\n  isVisible: PropTypes.bool,\r\n  title: PropTypes.string,\r\n  maxWidth: PropTypes.string,\r\n  onClose: PropTypes.func.isRequired\r\n}\r\n\r\nconst Backdrop = styled.div`\r\n  background: #0000002e;\r\n  /* z-index: 99; */\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nconst Modal = styled.div`\r\n  background: white;\r\n  border-radius: 5px;\r\n  width: 100%;\r\n  max-width: ${props => props.maxWidth || '60%'} ;\r\n  max-height: 100vh;\r\n  box-shadow: 3px 3px 9px 1px silver;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst ModalHeader = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  position: relative;\r\n`\r\n\r\nconst ModalTitle = styled.div`\r\n  font-weight: bold;\r\n  flex: 1;\r\n  text-align: center;\r\n`\r\n\r\nconst ModalContent = styled.div`\r\n  padding: 0 20px 20px 20px;\r\n  overflow-y: auto;\r\n  max-height: 50vh;\r\n`\r\n\r\nexport default TpModal\r\n","import React, { useState } from 'react'\r\nimport TpSection from '@src/components/TpSection/index'\r\nimport TpModal from '@src/components/TpModal/index'\r\nimport styled from 'styled-components'\r\n\r\nconst ModalFooter = styled.div`\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n`\r\nconst ModalContent = styled.div`\r\n  margin-bottom: 15px;\r\n`\r\n\r\nconst Practice14 = () => {\r\n  const [isVisible, setIsVisible] = useState(false)\r\n\r\n  const handleToggleModalShowUp = () => {\r\n    setIsVisible(!isVisible)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1> 打造 Modal 共用組件 </h1>\r\n      <p className='tp-desc'>\r\n            建立 Modal 組件。\r\n      </p>\r\n      <TpSection>\r\n\r\n        {/* 開起視窗按鈕 */}\r\n        <input type='button' value='Show Modal' onClick={handleToggleModalShowUp} />\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n        <div> =====================================</div>\r\n\r\n        {/* 彈跳視窗 */}\r\n        <TpModal\r\n          title='Welcome'\r\n          isVisible={isVisible}\r\n          onClose={handleToggleModalShowUp}\r\n        >\r\n\r\n          <ModalContent>\r\n            <div> Would you like to join this team?</div>\r\n          </ModalContent>\r\n          <ModalFooter>\r\n            <button onClick={handleToggleModalShowUp}>Yes</button>\r\n            <button onClick={handleToggleModalShowUp}>Cancel</button>\r\n          </ModalFooter>\r\n\r\n        </TpModal>\r\n\r\n      </TpSection>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Practice14\r\n"],"sourceRoot":""}